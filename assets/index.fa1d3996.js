var _=Object.defineProperty;var R=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var $=(t,o,r)=>o in t?_(t,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[o]=r,E=(t,o)=>{for(var r in o||(o={}))V.call(o,r)&&$(t,r,o[r]);if(R)for(var r of R(o))K.call(o,r)&&$(t,r,o[r]);return t};import{j as e,B as S,u as p,R as y,a,H as D,c as w,C as Z,b as I,T as C,L as J,E as Y,M as X,r as d,d as j,e as q,F as B,S as Q,m as T,W as ee,I as te,f as re,g as oe,h as ne,i as A,k as ae,l as se,n as le,o as O,p as ie,q as ce,s as de,t as he,D as pe,v as ue,w as me,x as ge,y as fe,z as be,A as xe,G as Se,J as ye,K as Ce,N as we,O as Me,P as ve}from"./vendor.e79bd573.js";const ke=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}};ke();const P=({children:t,w:o,mr:r})=>e(S,{mt:3,mr:r||3,mb:8,borderRadius:5,boxShadow:"lg",bg:p("gray.50","gray.700"),w:o||void 0,px:3,py:4,fontSize:18,children:t}),H=t=>{const[o,r,i]=t.toLocaleDateString("en-US").split("/");return`${i}-${o.padStart(2,"0")}-${r.padStart(2,"0")}`},Le=[{scale:">= 8.0",color:"#720000"},{scale:">= 7.0",color:"#f44336"},{scale:">= 6.1",color:"#ff9800"},{scale:">= 5.5",color:"#ffeb3b"},{scale:">= 2.5",color:"#4caf50"},{scale:"< 2.5",color:"#33c9dc"}],z=t=>t>=8?"#720000":t>=7?"#f44336":t>=6.1?"#ff9800":t>=5.5?"#ffeb3b":t>=2.5?"#4caf50":"#33c9dc",De=()=>e(y.Fragment,{children:Le.map(t=>a(D,{alignItems:"center",lineHeight:"24px",children:[e(w.span,{display:"block",w:"24px",h:"24px",bg:t.color}),e("span",{children:t.scale})]},t.color))}),Ie=w(Z),ze=({data:t,setSelectedQuake:o})=>e(y.Fragment,{children:t.length>0&&t.map(r=>e(Ie,{center:[r.geometry.coordinates[1],r.geometry.coordinates[0]],fillOpacity:.6,stroke:z(r.properties.mag),color:z(r.properties.mag),fillColor:z(r.properties.mag),radius:20,_hover:{stroke:"#fafafa",strokeWidth:"5px"},eventHandlers:{mouseover:()=>{o({title:r.properties.title,place:r.properties.place,mag:r.properties.mag,url:r.properties.url})}}},r.id))}),Fe=({selectedQuake:t})=>a(y.Fragment,{children:[e(I,{as:"h4",size:"lg",mb:4,children:"EarthQuake Information"}),a(S,{w:"220px",children:[t.place!==""&&e(C,{whiteSpace:"nowrap",fontWeight:"bold",children:t.place}),t.mag>0&&e(C,{children:`Magnitude: ${t.mag}`}),t.url!==""&&a(J,{color:"blue.500",href:t.url,target:"_blank",children:["More Details on USGS ",e(Y,{mx:"2px"})]}),t.mag==0&&t.place==""&&e("span",{children:"Hover over a Circle"})]})]}),Re=w(X),$e=({data:t,center:o,zoom:r,isLoading:i})=>{const[n,s]=d.exports.useState({title:"",place:"",mag:0,url:""});j();const c=[-80,-215],u=[85,240],l=L.latLngBounds([c,u]);return a(Re,{id:"mapContainer",h:"100vh",center:o,zoom:r,zoomControl:!1,minZoom:3,maxBounds:l,maxBoundsViscosity:1,children:[e(q,{url:"https://{s}.tile.openstreetmap.de/{z}/{x}/{y}.png",attribution:'\xA9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),e("div",{className:"leaflet-top leaflet-right",style:{pointerEvents:"auto"},children:e(P,{children:e(De,{})})}),e("div",{className:"leaflet-bottom leaflet-right",children:e(P,{minW:"400px",w:["95vw","auto"],mr:["2.5vw",3],children:e(Fe,{selectedQuake:n})})}),i?e(B,{pos:"relative",zIndex:1500,h:"100vh",w:"100vw",bg:"blackAlpha.600",alignItems:"center",justifyContent:"center",children:e(Q,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"blue.500",size:"xl"})}):e(ze,{data:t,setSelectedQuake:s})]})},F=t=>e(T.path,E({fill:"transparent",strokeWidth:"3",stroke:t.color,strokeLinecap:"round"},t)),Ee=({onClick:t,isOpen:o,color:r})=>e(T.button,{onClick:t,initial:!1,animate:o?"open":"closed",children:a("svg",{width:"25",height:"25",viewBox:"0 0 20 20",children:[e(F,{color:r,variants:{closed:{d:"M 2 2.5 L 20 2.5"},open:{d:"M 3 16.5 L 17 2.5"}}}),e(F,{d:"M 2 9.423 L 20 9.423",color:r,variants:{closed:{opacity:1},open:{opacity:0}},transition:{duration:.1}}),e(F,{color:r,variants:{closed:{d:"M 2 16.346 L 20 16.346"},open:{d:"M 3 2.5 L 17 16.346"}}})]})});const je=w(ee),Be=({id:t,startDate:o,onChange:r,endDate:i})=>a(te,{mb:4,justifyContent:"center",pb:1,borderBottom:`1px solid ${p("black","white")}`,children:[e(re,{children:e(oe,{color:p("black","white")}),bg:"transparent",border:"none"}),e(je,{id:t,selected:o,onChange:r,startDate:o,endDate:i,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",yearDropdownItemNumber:10,selectsRange:!0,withPortal:!0,color:p("black","white"),bg:"transparent",px:3,py:2,border:"none"})]}),Te=({startDate:t,endDate:o,magnitude:r,setMagnitude:i,setStartDate:n,setEndDate:s,handleFetch:c,onClose:u})=>{const[l,m]=d.exports.useState([r.min,r.max]),h=d.exports.useCallback(g=>{m(g)},[l]),b=d.exports.useCallback(()=>{i({min:l[0],max:l[1]})},[l,i,r]),M=d.exports.useCallback(g=>{const[f,v]=g;n(f),s(v)},[t,o]);return e("form",{onSubmit:g=>{g.preventDefault(),c(),u()},children:a(ne,{children:[e(A,{htmlFor:"mag",mr:0,textAlign:"center",children:"Magnitude Range"}),a(ae,{id:"mag",defaultValue:[l[0],l[1]],min:0,max:10,step:1,minStepsBetweenThumbs:1,onChange:h,onChangeEnd:b,children:[e(se,{bg:"blue.100",children:e(le,{bg:"blue.500"})}),e(O,{boxSize:5,index:0}),e(O,{boxSize:5,index:1})]}),a(D,{justifyContent:"space-between",mb:8,children:[a(C,{fontSize:18,children:["Min: ",l[0]]}),a(C,{fontSize:18,children:["Max: ",l[1]]})]}),e(A,{htmlFor:"dateRange",mr:0,textAlign:"center",children:"Date Range"}),e(Be,{id:"dateRange",onChange:M,startDate:t,endDate:o}),e(ie,{mt:10,children:e(ce,{leftIcon:e(de,{}),bg:"blue.500",color:"white",_hover:{bg:"blue.600"},variant:"solid",w:"120px",type:"submit",children:"Search"})})]})})},Ae=({startDate:t,endDate:o,magnitude:r,setMagnitude:i,setStartDate:n,setEndDate:s,handleFetch:c})=>{const{isOpen:u,onToggle:l,onClose:m}=he(),{colorMode:h,toggleColorMode:b}=j();return a(y.Fragment,{children:[e(S,{pos:"absolute",zIndex:1500,left:0,top:0,p:4,children:e(Ee,{onClick:l,isOpen:u,color:p("black","gray")})}),a(pe,{isOpen:u,placement:"left",onClose:m,children:[e(ue,{}),a(me,{bg:p("gray.50","gray.700"),color:p("black","white"),children:[e(ge,{textAlign:"center",children:e(I,{as:"h1",size:"lg",children:"Search"})}),a(fe,{display:"flex",flexDirection:"column",justifyContent:"space-between",children:[a(S,{children:[e(I,{as:"h3",size:"md",textAlign:"center",mb:6,children:"Filter Parameter"}),e(Te,{startDate:t,endDate:o,magnitude:r,setMagnitude:i,setStartDate:n,setEndDate:s,handleFetch:c,onClose:m})]}),a(B,{alignItems:"center",direction:"column",w:"full",pb:10,children:[a(D,{mb:6,children:[e(be,{w:6,h:6}),e(xe,{size:"lg",isChecked:h==="dark",onChange:b}),e(Se,{w:6,h:6})]}),e(C,{fontSize:12,color:p("black","white"),children:"Powered by"}),e(S,{w:"50%",children:e(ye,{src:p("./light-usgs-logo.svg","./usgs-logo.svg"),alt:"USGS logo"})})]})]})]})]})]})};function Oe(){const[t,o]=d.exports.useState([]),[r,i]=d.exports.useState([36.2048,138.2529]),[n,s]=d.exports.useState(5),[c,u]=d.exports.useState(new Date(2011,2,11)),[l,m]=d.exports.useState(new Date(2011,2,12)),[h,b]=d.exports.useState({min:3,max:6}),[M,x]=d.exports.useState(!1),g=()=>{const f="https://earthquake.usgs.gov/fdsnws/event/1/query?format=geojson",v=c?`&starttime=${H(c)}`:"",W=l?`&endtime=${H(l)}`:"",U=h.min>0?`&minmagnitude=${h.min}`:"",G=h.max>0?`&maxmagnitude=${h.max}`:"";x(!0),fetch(`${f}${v}${W}${U}${G}&limit=100`).then(k=>k.json()).then(k=>{o(k.features),x(!1)})};return d.exports.useEffect(()=>{x(!0),fetch("https://earthquake.usgs.gov/fdsnws/event/1/query?format=geojson&limit=200").then(f=>f.json()).then(f=>{o(f.features),x(!1)})},[]),a("main",{children:[e(Ae,{startDate:c,endDate:l,magnitude:h,setMagnitude:b,setStartDate:u,setEndDate:m,handleFetch:g}),e($e,{data:t,center:r,zoom:n,isLoading:M})]})}const Pe={initialColorMode:"dark",useSystemColorMode:!1},N=Ce({config:Pe});we.render(e(y.StrictMode,{children:a(Me,{resetCSS:!0,theme:N,children:[e(ve,{initialColorMode:N.config.initialColorMode}),e(Oe,{})]})}),document.getElementById("root"));
